import{d as L,t as k,aD as E,a7 as b,y as S,C as x,o as I,b as $,f as K}from"../modules/vue-DJHzUJr2.js";import{aA as B,C as D,aD as N,aE as P,aF as T,_ as j}from"../index-B9h3ow_G.js";import{u as q}from"./context-DI1JsmRv.js";const w=L({__name:"KaTexBlockWrapper",props:{ranges:{type:Array,default:()=>[]},finally:{type:[String,Number],default:"last"},startLine:{type:Number,default:1},at:{type:[String,Number],default:"+1"}},setup(i,{expose:p}){p();const e=i,{$clicksContext:t}=q(),a=k(),o=B();E(()=>{t.unregister(o)}),b(()=>{var m;if(!t||!((m=e.ranges)!=null&&m.length))return;const c=t.calculateSince(e.at,e.ranges.length-1);t.register(o,c);const g=S(()=>c?Math.max(0,t.current-c.start+1):D),_=S(()=>e.finally==="last"?e.ranges.at(-1):e.finally.toString());x(()=>{if(!a.value)return;let u=e.ranges[g.value]??_.value;const h=u==="hide";a.value.classList.toggle(N,h),h&&(u=e.ranges[g.value+1]??_.value);const v=a.value.querySelectorAll(".mtable > [class*=col-align]");if(!v)return;const C=Array.from(v).map(n=>Array.from(n.querySelectorAll(":scope > .vlist-t > .vlist-r > .vlist > span > .mord"))),r=[];for(const n of C)n.forEach((l,s)=>{l&&(Array.isArray(r[s])?r[s].push(l):r[s]=[l])});const y=e.startLine,A=P(r.length+y-1,u);r.forEach((n,l)=>{const s=A.includes(l+y);n.forEach(f=>{f.classList.toggle(T,!0),f.classList.toggle("highlighted",s),f.classList.toggle("dishonored",!s)})})})});const d={props:e,clicks:t,el:a,id:o};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),M={ref:"el",class:"slidev-katex-wrapper"};function R(i,p,e,t,a,o){return I(),$("div",M,[K(i.$slots,"default")],512)}const F=j(w,[["render",R],["__file","/home/twilight/projects/deck-js-stuffs/slidev-addon-ultracharger-demo/node_modules/.pnpm/@slidev+client@0.49.10_postcss@8.4.38_vite@5.2.13/node_modules/@slidev/client/builtin/KaTexBlockWrapper.vue"]]);export{F as _};
