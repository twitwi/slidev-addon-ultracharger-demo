import{B as S,t as x,n as I,v as q}from"./modules/vue-DJHzUJr2.js";import{u as E}from"./slidev/context-DI1JsmRv.js";import{_ as T}from"./index-B9h3ow_G.js";let k=1;function H(){let o="uniquesvg"+k;return k++,o}let $=["clip-path","color-profile","fill","filter","marker-start","marker-mid","marker-end","mask","stroke"];const B={props:{src:{default:""},wrap:{default:void 0},width:{default:void 0},height:{default:void 0},opts:{default:{}}},setup(o,L){var v,A,b;const y=S("notifyAsyncDone",x(()=>{})),{$slidev:w}=E();let _=((b=(A=(v=w==null?void 0:w.configs)==null?void 0:v.addonsConfig)==null?void 0:A.ultracharger)==null?void 0:b.inlineSvg)??{};const m=x("");return async function(){let d=await fetch("/slidev-addon-ultracharger-demo/"+o.src.replace(/^\//,""));m.value=await d.text()}(),()=>{I(()=>{y.value()});let d=m.value,h=Object.assign({addViewBox:!0,xlinkRewrite:!0,prefixHrefs:!0,styleToAttributes:!0,idRewrite:!0,markersWorkaround:!1},_,o.opts);if(d){let g=document.createElement("div");g.innerHTML=d;let i=g.children[0];if(h.addViewBox){let t=i.getAttribute("viewBox");if(t===null){let r={"":1,px:1,cm:37.79527559055118,mm:3.779527559055118,Q:.9448818897637795,in:96,pc:16,pt:1.3333333333333333},a=l=>{var s=l.split(/^([\d.]+)/).slice(1);return parseFloat(s[0])*r[s[1]]},f=i.getAttribute("width"),e=i.getAttribute("height");t=`0 0 ${a(f)} ${a(e)}`,i.setAttribute("viewBox",t)}i.removeAttribute("width"),i.removeAttribute("height")}if(h.xlinkRewrite&&i.querySelectorAll("[*|href]:not([href])").forEach(t=>{t.hasAttributeNS("http://www.w3.org/1999/xlink","href")&&(t.setAttribute("href",t.getAttributeNS("http://www.w3.org/1999/xlink","href")),t.removeAttributeNS("http://www.w3.org/1999/xlink","href"))}),h.prefixHrefs&&i.querySelectorAll("[href]").forEach(t=>{let r=t.getAttribute("href").trim();!r.startsWith("#")&&!r.startsWith("data:")&&t.setAttribute("href",o.src.replace(/\/[^/]*$/,"/")+r)}),o.width&&i.setAttribute("width",o.width),o.height&&i.setAttribute("height",o.height),h.styleToAttributes&&i.querySelectorAll("[style]").forEach(t=>{let r=t.getAttribute("style");r&&(r.trim().split(/ *; */).forEach(a=>{if(a&&a.substring(0,1)!=="-"){let f=a.trim().split(/ *: */);t.setAttribute(f[0],f[1])}}),t.removeAttribute("style"))}),h.markersWorkaround)for(let t of["fill","stroke"])i.querySelectorAll(`marker *[${t}]`).forEach(r=>{let a=r.getAttribute(t);(a==="context-fill"||a==="context-stroke")&&r.removeAttribute(t)});if(h.idRewrite){let t={},r={},a=function(e,l){r[e]!==void 0?r[e].push(l):r[e]=[l]};i.querySelectorAll("*").forEach(e=>{let l=e.id;l&&(t[l]=e);for(let c of $){let u=e.getAttribute(c);if(u){let p=u.trim().match(/^url\(#(.+?)\)$/);p&&a(p[1],{o:e,a:c})}}var s=e.getAttribute("href");if(s){var n=s.trim().match(/^#(.+?)$/);n&&a(n[1],{o:e,a:"href"})}});let f={};for(let e in r){let l=H();t[e].id=l,f[e]=l,t[e].classList.add(`idwas-${e}`)}for(let e in r){let l=f[e],s=r[e];for(let n of s){let c=n.o.getAttribute(n.a),u;n.a==="href"?u=c.replace("#"+e,"#"+l):u=c.replace("(#"+e+")","(#"+l+")"),c!==u&&n.o.setAttribute(n.a,u)}}}d=g.innerHTML}return q("div",{[o.wrap===void 0?"outerHTML":"innerHTML"]:d,width:o.width,height:o.height})}}},W=T(B,[["__file","/home/twilight/projects/deck-js-stuffs/slidev-addon-ultracharger-demo/node_modules/.pnpm/@twitwi+slidev-addon-ultracharger@1.1.3/node_modules/@twitwi/slidev-addon-ultracharger/components/InlineSvg.vue"]]);export{W as _};
